<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Cliente</title>
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    
</head>
<body>
    <div class="section">
        <div class="container">
            <div class="row full-height justify-content-center">
                <div class="col-12 text-center align-self-center py-5">
                    <div class="section pb-5 pt-5 pt-sm-2 text-center">
                        <div class="card-3d-wrap mx-auto">
                            <div class="card-3d-wrapper">
                                <div class="card-front">
                                    <div class="center-wrap">
                                        <h2 class="mb-4 pb-3">Cadastro de Cliente</h2>
                                        <form id="cadastroClienteForm" action="cadastro_cliente.php" method="post" onsubmit="return validarForm()">
                                            <div class="form-group">
                                                <label for="nome"></label>
                                                <input type="text" class="form-style" id="nome" name="nome" required placeholder="Nome do cliente"> 
                                                <span id="nomeError" class="error"></span>
                                            </div>
                                            <div class="form-group">
                                                <label for="sobrenome"></label>
                                                <input type="text" class="form-style" id="sobrenome" name="sobrenome" required placeholder="Sobrenome do cliente">
                                                <span id="sobrenomeError" class="error"></span>
                                            </div>
                                            <div class="form-group">
                                                <label for="endereco"></label>
                                                <input type="text" class="form-style" id="endereco" name="endereco" required placeholder="Endereço do cliente">
                                                <span id="enderecoError" class="error"></span>
                                            </div>
                                            <div class="form-group">
                                                <label for="telefone"></label>
                                                <input type="text" class="form-style" id="telefone" name="telefone" required placeholder="Telefone do cliente">
                                                <span id="telefoneError" class="error"></span>
                                            </div>
                                            <div class="form-group">
                                                <label for="cpf"></label>
                                                <input type="text" class="form-style" id="cpf" name="cpf" required pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" placeholder="CPF do cliente">
                                                <span id="cpfError" class="error"></span>
                                            </div>
                                            <div class="form-group">
                                                <label for="cnpj"></label>
                                                <input type="text" class="form-style" id="cnpj" name="cnpj" required pattern="\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}" placeholder="CNPJ do cliente">
                                                <span id="cnpjError" class="error"></span>
                                            </div>
                                            <button type="submit" class="btn mt-4">Cadastrar</button>
                                            <button type="button" class="btn mt-4" id="redirectButton">Ir para a página inicial</button>
                                            


                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function validarForm() {
            var nome = document.getElementById("nome").value.trim();
            var sobrenome = document.getElementById("sobrenome").value.trim();
            var endereco = document.getElementById("endereco").value.trim();
            var telefone = document.getElementById("telefone").value.trim();
            var cpf = document.getElementById("cpf").value.trim();
            var cnpj = document.getElementById("cnpj").value.trim();
            var isValid = true;

            
            document.getElementById("cadastroClienteForm").addEventListener("submit", function(event) {
                event.preventDefault();
                window.location.href = "projeto-final-DS.W/fg/index.html";
            });



            function validarCPF(cpf) {
                var cpfRegex = /^\d{3}\.\d{3}\.\d{3}-\d{2}$/;
                return cpfRegex.test(cpf);
            }

            function validarCNPJ(cnpj) {
                var cnpjRegex = /^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/;
                return cnpjRegex.test(cnpj);
            }


            if (!validarCPF(cpf)) {
                document.getElementById("cpfError").textContent = "Por favor, insira um CPF válido.";
                isValid = false;
            } else {
                document.getElementById("cpfError").textContent = "";
            }

            if (!validarCNPJ(cnpj)) {
                document.getElementById("cnpjError").textContent = "Por favor, insira um CNPJ válido.";
                isValid = false;
            } else {
                document.getElementById("cnpjError").textContent = "";
            }

            

            return isValid;
        }
    </script>
</body>
</html>
